<mat-toolbar color="p<div class="container">
  <mat-card>
           <!-- Nível           <!-- Ações -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>Ações</th>
            <td mat-cell *matCellDef="let user">
              <button mat-icon-button 
                      color="primary" 
                      (click)="editUser(user.id)"
                      *appHasPermission="'canEditUsers'"
                      matTooltip="Editar usuário">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button 
                      color="warn" 
                      (click)="deleteUser(user.id)"
                      *appHasPermission="'canDeleteUsers'"
                      matTooltip="Excluir usuário">
                <mat-icon>delete</mat-icon>
              </button>
              <button mat-icon-button 
                      color="accent" 
                      (click)="viewUser(user.id)"
                      matTooltip="Ver detalhes">
                <mat-icon>visibility</mat-icon>
              </button>
            </td>
          </ng-container>       <ng-container matColumnDef="accessLevel">
            <th mat-header-cell *matHeaderCellDef>Nível de Acesso</th>
            <td mat-cell *matCellDef="let user">
              <mat-chip [color]="getRoleChipColor(user.accessLevel?.name || '')" 
                        class="role-chip">
                {{ user.accessLevel?.name || 'N/A' }}
              </mat-chip>
            </td>
          </ng-container>at-card-header>
      <mat-card-title>Lista de Usuários</mat-card-title>
      <div class="header-actions">
        <button mat-raised-button 
                color="primary" 
                *appHasPermission="'canCreateUsers'"
                (click)="createUser()">
          <mat-icon>add</mat-icon>
          Novo Usuário
        </button>
      </div>
    </mat-card-header>
    
    <mat-card-content>>
  <span>Gerenciamento de Usuários</span>
  <span class="spacer"></span>
  <div *ngIf="currentUser" class="user-info">
    <span class="user-name">{{ currentUser.name }}</span>
    <mat-chip [color]="getRoleChipColor(currentUser.accessLevel)" class="role-chip">
      {{ getUserRoleDisplayName() }}
    </mat-chip>
  </div>
  <button mat-icon-button (click)="logout()">
    <mat-icon>logout</mat-icon>
  </button>
</mat-toolbar>lbar color=\"primary\">
  <span>Gerenciamento de Usuários</span>
  <span class=\"spacer\"></span>
  <span *ngIf=\"currentUser\">Olá, {{ currentUser.name }}</span>
  <button mat-icon-button (click)=\"logout()\">
    <mat-icon>logout</mat-icon>
  </button>
</mat-toolbar>

<div class=\"container\">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Lista de Usuários</mat-card-title>
    </mat-card-header>
    
    <mat-card-content>
      <div *ngIf=\"isLoading\" class=\"loading\">
        Carregando usuários...
      </div>
      
      <div *ngIf=\"!isLoading\">
        <table mat-table [dataSource]=\"users\" class=\"full-width\">
          <!-- Nome -->
          <ng-container matColumnDef=\"name\">
            <th mat-header-cell *matHeaderCellDef>Nome</th>
            <td mat-cell *matCellDef=\"let user\">{{ user.name }}</td>
          </ng-container>

          <!-- Email -->
          <ng-container matColumnDef=\"email\">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef=\"let user\">{{ user.email }}</td>
          </ng-container>

          <!-- Nível de Acesso -->
          <ng-container matColumnDef=\"accessLevel\">
            <th mat-header-cell *matHeaderCellDef>Nível de Acesso</th>
            <td mat-cell *matCellDef=\"let user\">{{ user.accessLevel?.name || 'N/A' }}</td>
          </ng-container>

          <!-- Data de Criação -->
          <ng-container matColumnDef=\"createdAt\">
            <th mat-header-cell *matHeaderCellDef>Criado em</th>
            <td mat-cell *matCellDef=\"let user\">{{ user.createdAt | date:'dd/MM/yyyy' }}</td>
          </ng-container>

          <!-- Ações -->
          <ng-container matColumnDef=\"actions\">
            <th mat-header-cell *matHeaderCellDef>Ações</th>
            <td mat-cell *matCellDef=\"let user\">
              <button mat-icon-button 
                      color=\"primary\" 
                      (click)=\"editUser(user.id)\"
                      *ngIf=\"isAdmin()\">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button 
                      color=\"warn\" 
                      (click)=\"deleteUser(user.id)\"
                      *ngIf=\"isAdmin()\">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>
          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>
        </table>

        <div *ngIf=\"users.length === 0\" class=\"no-data\">
          Nenhum usuário encontrado.
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>